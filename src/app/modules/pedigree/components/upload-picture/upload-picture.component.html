<p-card *transloco="let t">
  <ng-template pTemplate="header">
    <div class="header-container">
      @if (isFromPedigreeSearch) {
      <i class="pi pi-arrow-left icon-back w-full" (click)="goBack()"></i>
      }
      <span class="w-full flex justify-content-center">{{
        t("yourPedigrees.menu.uploadImg")
      }}</span>
      @if (isFromPedigreeSearch) {
      <div class="w-full"></div>
      }
    </div>
  </ng-template>

  <span>{{ t("yourPedigrees.uploadDeleteImg.text") }}</span>

  @if(pedigree && pedigree.img){
  <div class="flex flex-column gap-2 mt-3">
    <label>{{ t("yourPedigrees.newPedigree.form.actualImg") }}</label>
    <img src="{{ urlImg }}" class="img" />
  </div>
  }

  <div class="w-full flex flex-column justify-content-center gap-2 mt-3">
    <label>{{ t("yourPedigrees.newPedigree.form.img") }}</label>
    <p-fileUpload
      #fileUpload
      [multiple]="false"
      chooseLabel="{{ t('buttons.choose') }}"
      accept="image/*"
      maxFileSize="10000000"
      [showCancelButton]="false"
      [showUploadButton]="false"
      (onSelect)="onSelectFile($event)"
    >
    </p-fileUpload>
  </div>

  <div class="w-full flex justify-content-end gap-3 mt-3">
    <p-button
      severity="danger"
      [disabled]="!this.pedigree.img"
      label="{{ t('buttons.deleteCurrentImg') }}"
      (onClick)="deleteCurrentImg()"
    />

    <p-button
      class="btn-primary"
      [disabled]="!this.files.length"
      label="{{ t('buttons.save') }}"
      [loading]="loading"
      (onClick)="uploadImg()"
    />
  </div>
</p-card>

<p-confirmDialog />
