<nav class="navbar" *transloco="let t">
  <div class="flex align-items-center" style="width: 20%">
    @if (user) { @if (user.picture) {
    <img
      class="picture mr-2"
      [src]="user.picture.startsWith('http') ? user.picture : urlImg"
    />
    }
    <span class="mr-2">{{ t("header.hello", { name: user.username }) }}</span>
    <span class="link" (click)="logout()">{{ t("header.logout") }}</span>
    } @else {
    <a
      [class]="
        this.router.url == '/auth/login' ? 'link mr-1 active-link' : 'link mr-1'
      "
      href="/auth/login"
      >{{ t("header.login") }}</a
    >
    {{ "/" }}
    <a
      [class]="
        this.router.url == '/auth/register'
          ? 'link ml-1 active-link'
          : 'link ml-1'
      "
      href="/auth/register"
      >{{ t("header.register") }}</a
    >
    }
  </div>
  <ul class="navbar-list w-full">
    <li>
      <a
        href="/home"
        [class]="router.url == '/home' ? 'navbar-item active' : 'navbar-item'"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
          class="icon-svg"
        >
          <path
            d="M575.8 255.5c0 18-15 32.1-32 32.1l-32 0 .7 160.2c0 2.7-.2 5.4-.5 8.1l0 16.2c0 22.1-17.9 40-40 40l-16 0c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1L416 512l-24 0c-22.1 0-40-17.9-40-40l0-24 0-64c0-17.7-14.3-32-32-32l-64 0c-17.7 0-32 14.3-32 32l0 64 0 24c0 22.1-17.9 40-40 40l-24 0-31.9 0c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2l-16 0c-22.1 0-40-17.9-40-40l0-112c0-.9 0-1.9 .1-2.8l0-69.7-32 0c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"
          />
        </svg>
        {{ t("navbar.items.home") }}</a
      >
    </li>
    <li>
      <a
        href="/pedigree"
        [class]="
          router.url == '/pedigree' ||
          (router.url.startsWith('/pedigree/') &&
            !router.url.startsWith('/pedigree/my-pedigrees/'))
            ? 'navbar-item active'
            : 'navbar-item'
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
          class="icon-svg"
        >
          <path
            d="M309.6 158.5L332.7 19.8C334.6 8.4 344.5 0 356.1 0c7.5 0 14.5 3.5 19 9.5L392 32l52.1 0c12.7 0 24.9 5.1 33.9 14.1L496 64l56 0c13.3 0 24 10.7 24 24l0 24c0 44.2-35.8 80-80 80l-32 0-16 0-21.3 0-5.1 30.5-112-64zM416 256.1L416 480c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-115.2c-24 12.3-51.2 19.2-80 19.2s-56-6.9-80-19.2L160 480c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-230.2c-28.8-10.9-51.4-35.3-59.2-66.5L1 167.8c-4.3-17.1 6.1-34.5 23.3-38.8s34.5 6.1 38.8 23.3l3.9 15.5C70.5 182 83.3 192 98 192l30 0 16 0 159.8 0L416 256.1zM464 80a16 16 0 1 0 -32 0 16 16 0 1 0 32 0z"
          />
        </svg>
        {{ t("navbar.items.pedigrees") }}</a
      >
    </li>
    <li>
      <a
        href="/pedigree/my-pedigrees/0"
        [class]="
          router.url.startsWith('/pedigree/my-pedigrees/')
            ? 'navbar-item active'
            : 'navbar-item'
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 576 512"
          class="icon-svg"
        >
          <path
            d="M309.6 158.5L332.7 19.8C334.6 8.4 344.5 0 356.1 0c7.5 0 14.5 3.5 19 9.5L392 32l52.1 0c12.7 0 24.9 5.1 33.9 14.1L496 64l56 0c13.3 0 24 10.7 24 24l0 24c0 44.2-35.8 80-80 80l-32 0-16 0-21.3 0-5.1 30.5-112-64zM416 256.1L416 480c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-115.2c-24 12.3-51.2 19.2-80 19.2s-56-6.9-80-19.2L160 480c0 17.7-14.3 32-32 32l-32 0c-17.7 0-32-14.3-32-32l0-230.2c-28.8-10.9-51.4-35.3-59.2-66.5L1 167.8c-4.3-17.1 6.1-34.5 23.3-38.8s34.5 6.1 38.8 23.3l3.9 15.5C70.5 182 83.3 192 98 192l30 0 16 0 159.8 0L416 256.1zM464 80a16 16 0 1 0 -32 0 16 16 0 1 0 32 0z"
          />
        </svg>
        {{ t("navbar.items.yourPedigrees") }}</a
      >
    </li>
    <li>
      <a
        href="/account"
        [class]="
          router.url == '/account' ? 'navbar-item active' : 'navbar-item'
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 448 512"
          class="icon-svg"
        >
          <path
            d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"
          />
        </svg>
        {{ t("navbar.items.yourAccount") }}</a
      >
    </li>
    <li>
      <a
        href="/messages"
        [class]="
          router.url == '/messages' ? 'navbar-item active' : 'navbar-item'
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 512 512"
          class="icon-svg"
        >
          <path
            d="M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"
          />
        </svg>
        @if (chatsCount) {
        <span pBadge [value]="chatsCount" severity="danger">{{
          t("navbar.items.messages")
        }}</span>
        } @else {
        <span>{{ t("navbar.items.messages") }}</span>
        }
      </a>
    </li>
    @if(!user?.forum_ban){
    <li>
      <a
        href="/forum"
        [class]="
          router.url.includes('/forum') ? 'navbar-item active' : 'navbar-item'
        "
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 640 512"
          class="icon-svg"
        >
          <path
            d="M144 0a80 80 0 1 1 0 160A80 80 0 1 1 144 0zM512 0a80 80 0 1 1 0 160A80 80 0 1 1 512 0zM0 298.7C0 239.8 47.8 192 106.7 192l42.7 0c15.9 0 31 3.5 44.6 9.7c-1.3 7.2-1.9 14.7-1.9 22.3c0 38.2 16.8 72.5 43.3 96c-.2 0-.4 0-.7 0L21.3 320C9.6 320 0 310.4 0 298.7zM405.3 320c-.2 0-.4 0-.7 0c26.6-23.5 43.3-57.8 43.3-96c0-7.6-.7-15-1.9-22.3c13.6-6.3 28.7-9.7 44.6-9.7l42.7 0C592.2 192 640 239.8 640 298.7c0 11.8-9.6 21.3-21.3 21.3l-213.3 0zM224 224a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zM128 485.3C128 411.7 187.7 352 261.3 352l117.3 0C452.3 352 512 411.7 512 485.3c0 14.7-11.9 26.7-26.7 26.7l-330.7 0c-14.7 0-26.7-11.9-26.7-26.7z"
          />
        </svg>
        {{ t("navbar.items.forum") }}</a
      >
    </li>
    }
    <li>
      <a
        href="/stream"
        href="/stream"
        [class]="router.url == '/stream' ? 'navbar-item active' : 'navbar-item'"
      >
        <svg
          class="icon-svg stream"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M2 12.5V11.5C2 8.21252 2 6.56878 2.90796 5.46243C3.07418 5.25989 3.25989 5.07418 3.46243 4.90796C4.56878 4 6.21252 4 9.5 4C12.7875 4 14.4312 4 15.5376 4.90796C15.7401 5.07418 15.9258 5.25989 16.092 5.46243C16.7936 6.3173 16.9531 7.49303 16.9893 9.50002L17.6584 9.17082C19.6042 8.19788 20.5772 7.7114 21.2886 8.15107C22 8.59075 22 9.67853 22 11.8541V12.1459C22 14.3215 22 15.4093 21.2886 15.8489C20.5772 16.2886 19.6042 15.8021 17.6584 14.8292L16.9893 14.5C16.9531 16.507 16.7936 17.6827 16.092 18.5376C15.9258 18.7401 15.7401 18.9258 15.5376 19.092C14.4312 20 12.7875 20 9.5 20C6.21252 20 4.56878 20 3.46243 19.092C3.25989 18.9258 3.07418 18.7401 2.90796 18.5376C2 17.4312 2 15.7875 2 12.5ZM10.0762 8.01986C9.93369 7.84887 9.7226 7.75 9.50002 7.75C9.27743 7.75 9.06635 7.84887 8.92385 8.01986L6.42385 11.0199C6.15868 11.3381 6.20167 11.811 6.51988 12.0762C6.83809 12.3413 7.31101 12.2983 7.57618 11.9801L8.75002 10.5715V15.5C8.75002 15.9142 9.0858 16.25 9.50002 16.25C9.91423 16.25 10.25 15.9142 10.25 15.5V10.5715L11.4239 11.9801C11.689 12.2983 12.1619 12.3413 12.4802 12.0762C12.7984 11.811 12.8414 11.3381 12.5762 11.0199L10.0762 8.01986Z"
          />
        </svg>

        Stream</a
      >
    </li>
    <li>
      <a
        href="/stream-chat"
        [class]="
          router.url == '/stream-chat' ? 'navbar-item active' : 'navbar-item'
        "
      >
        <svg
          class="icon-svg stream"
          viewBox="0 0 24 24"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22Z"
            stroke-width="1.5"
          />
        </svg>

        Chat</a
      >
    </li>
  </ul>
  <div class="flex justify-content-end" style="width: 20%">
    <span>{{ currentDate }}</span>
  </div>
</nav>
